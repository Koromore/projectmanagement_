webpackJsonp([0],{"4WTo":function(t,s,e){var a=e("NWt+");t.exports=function(t,s){var e=[];return a(t,!1,e.push,e,s),e}},"7Doy":function(t,s,e){var a=e("EqjI"),i=e("7UMu"),l=e("dSzd")("species");t.exports=function(t){var s;return i(t)&&("function"!=typeof(s=t.constructor)||s!==Array&&!i(s.prototype)||(s=void 0),a(s)&&null===(s=s[l])&&(s=void 0)),void 0===s?Array:s}},"9Bbf":function(t,s,e){"use strict";var a=e("kM2E");t.exports=function(t){a(a.S,t,{of:function(){for(var t=arguments.length,s=new Array(t);t--;)s[t]=arguments[t];return new this(s)}})}},"9C8M":function(t,s,e){"use strict";var a=e("evD5").f,i=e("Yobk"),l=e("xH/j"),n=e("+ZMJ"),r=e("2KxR"),o=e("NWt+"),c=e("vIB/"),u=e("EGZi"),p=e("bRrM"),d=e("+E39"),f=e("06OY").fastKey,v=e("LIJb"),h=d?"_s":"size",_=function(t,s){var e,a=f(s);if("F"!==a)return t._i[a];for(e=t._f;e;e=e.n)if(e.k==s)return e};t.exports={getConstructor:function(t,s,e,c){var u=t(function(t,a){r(t,u,s,"_i"),t._t=s,t._i=i(null),t._f=void 0,t._l=void 0,t[h]=0,void 0!=a&&o(a,e,t[c],t)});return l(u.prototype,{clear:function(){for(var t=v(this,s),e=t._i,a=t._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete e[a.i];t._f=t._l=void 0,t[h]=0},delete:function(t){var e=v(this,s),a=_(e,t);if(a){var i=a.n,l=a.p;delete e._i[a.i],a.r=!0,l&&(l.n=i),i&&(i.p=l),e._f==a&&(e._f=i),e._l==a&&(e._l=l),e[h]--}return!!a},forEach:function(t){v(this,s);for(var e,a=n(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(a(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!_(v(this,s),t)}}),d&&a(u.prototype,"size",{get:function(){return v(this,s)[h]}}),u},def:function(t,s,e){var a,i,l=_(t,s);return l?l.v=e:(t._l=l={i:i=f(s,!0),k:s,v:e,p:a=t._l,n:void 0,r:!1},t._f||(t._f=l),a&&(a.n=l),t[h]++,"F"!==i&&(t._i[i]=l)),t},getEntry:_,setStrong:function(t,s,e){c(t,s,function(t,e){this._t=v(t,s),this._k=e,this._l=void 0},function(){for(var t=this._k,s=this._l;s&&s.r;)s=s.p;return this._t&&(this._l=s=s?s.n:this._t._f)?u(0,"keys"==t?s.k:"values"==t?s.v:[s.k,s.v]):(this._t=void 0,u(1))},e?"entries":"values",!e,!0),p(s)}}},ALrJ:function(t,s,e){var a=e("+ZMJ"),i=e("MU5D"),l=e("sB3e"),n=e("QRG4"),r=e("oeOm");t.exports=function(t,s){var e=1==t,o=2==t,c=3==t,u=4==t,p=6==t,d=5==t||p,f=s||r;return function(s,r,v){for(var h,_,m=l(s),k=i(m),b=a(r,v,3),g=n(k.length),w=0,y=e?f(s,g):o?f(s,0):void 0;g>w;w++)if((d||w in k)&&(_=b(h=k[w],w,m),t))if(e)y[w]=_;else if(_)switch(t){case 3:return!0;case 5:return h;case 6:return w;case 2:y.push(h)}else if(u)return!1;return p?-1:c||u?u:y}}},BDhv:function(t,s,e){var a=e("kM2E");a(a.P+a.R,"Set",{toJSON:e("m9gC")("Set")})},HpRW:function(t,s,e){"use strict";var a=e("kM2E"),i=e("lOnJ"),l=e("+ZMJ"),n=e("NWt+");t.exports=function(t){a(a.S,t,{from:function(t){var s,e,a,r,o=arguments[1];return i(this),(s=void 0!==o)&&i(o),void 0==t?new this:(e=[],s?(a=0,r=l(o,arguments[2],2),n(t,!1,function(t){e.push(r(t,a++))})):n(t,!1,e.push,e),new this(e))}})}},LIJb:function(t,s,e){var a=e("EqjI");t.exports=function(t,s){if(!a(t)||t._t!==s)throw TypeError("Incompatible receiver, "+s+" required!");return t}},ioQ5:function(t,s,e){e("HpRW")("Set")},lHA8:function(t,s,e){t.exports={default:e("pPW7"),__esModule:!0}},m9gC:function(t,s,e){var a=e("RY/4"),i=e("4WTo");t.exports=function(t){return function(){if(a(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},mYtu:function(t,s){},oNmr:function(t,s,e){e("9Bbf")("Set")},oeOm:function(t,s,e){var a=e("7Doy");t.exports=function(t,s){return new(a(t))(s)}},pPW7:function(t,s,e){e("M6a0"),e("zQR9"),e("+tPU"),e("ttyz"),e("BDhv"),e("oNmr"),e("ioQ5"),t.exports=e("FeBl").Set},qo66:function(t,s,e){"use strict";var a=e("7KvD"),i=e("kM2E"),l=e("06OY"),n=e("S82l"),r=e("hJx8"),o=e("xH/j"),c=e("NWt+"),u=e("2KxR"),p=e("EqjI"),d=e("e6n0"),f=e("evD5").f,v=e("ALrJ")(0),h=e("+E39");t.exports=function(t,s,e,_,m,k){var b=a[t],g=b,w=m?"set":"add",y=g&&g.prototype,x={};return h&&"function"==typeof g&&(k||y.forEach&&!n(function(){(new g).entries().next()}))?(g=s(function(s,e){u(s,g,t,"_c"),s._c=new b,void 0!=e&&c(e,m,s[w],s)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var s="add"==t||"set"==t;t in y&&(!k||"clear"!=t)&&r(g.prototype,t,function(e,a){if(u(this,g,t),!s&&k&&!p(e))return"get"==t&&void 0;var i=this._c[t](0===e?0:e,a);return s?this:i})}),k||f(g.prototype,"size",{get:function(){return this._c.size}})):(g=_.getConstructor(s,t,m,w),o(g.prototype,e),l.NEED=!0),d(g,t),x[t]=g,i(i.G+i.W+i.F,x),k||_.setStrong(g,t,m),g}},ttyz:function(t,s,e){"use strict";var a=e("9C8M"),i=e("LIJb");t.exports=e("qo66")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return a.def(i(this,"Set"),t=0===t?0:t,t)}},a)},ydW9:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("lHA8"),i=e.n(a),l=e("c/Tr"),n=e.n(l),r=e("bOdI"),o=e.n(r),c={name:"task",data:function(){var t;return t={loading:!1,clientIdList:[],clientId:"",serviceId:"",isUsual:"",status:"",drawer1:!1,drawer2:!1,drawer3:!1,drawer2_task:"",drawer3_task:"",changeDoUserNameShow:"true",nextuserList:[],nextuserValue:"",loginState:!0,project_style:"",filtratePro:[],filtrateDep:[],tasklist:[],initiateTaskListTota:0,tasklist_:[],participateTaskListTota:0,tableData2:[],result:"",tabs_activity:1,table_show:!0,tab1_act:"",tab2_act:"",suggest_list:[],statusList:[{value:"1",label:"执行中"},{value:"2",label:"完成"}],statusListValue:"",taskData:{},taskFeedbackId:"",feedbackContent:"",dialogImageUrl:"",dialogVisible:!1,disabled:!1,uploadUrl:"",listProFile:[]},o()(t,"suggest_list",[]),o()(t,"file_list",""),o()(t,"dialogImageUrlResult",""),o()(t,"dialogVisibleResult",!1),o()(t,"disabledResult",!1),o()(t,"uploadUrl",""),o()(t,"listProFileResult",[]),t},watch:{clientId:function(t,s){this.findTaskList()},serviceId:function(t,s){this.findTaskList()},isUsual:function(t,s){this.findTaskList()},status:function(t,s){this.findTaskList()}},methods:{widthheight:function(){window.innerWidth,window.innerHeight},getAllClientAndBusiness:function(){this.$axios.post("/pmbs/client/getAllClientAndBusiness").then(this.getAllClientAndBusinessSuss)},getAllClientAndBusinessSuss:function(t){if(200==t.status){for(var s=t.data.data,e=[],a=0;a<s.length;a++){var i=s[a],l={value:i.clientId,label:i.clientName};e.push(l)}this.clientIdList=e}},table_tab:function(t){1==t?(this.tabs_activity=1,this.table_show=!0):2==t&&(this.tabs_activity=2,this.table_show=!1)},tab1_change:function(t,s){this.tab1_act==t?(this.tab1_act="",this.serviceId=""):1==t?(this.tab1_act=1,this.serviceId=s):2==t?(this.tab1_act=2,this.serviceId=s):3==t&&(this.tab1_act=3,this.serviceId=s)},tab2_change:function(t,s){this.tab2_act==t?(this.tab2_act="",this.isUsual=""):1==t?(this.tab2_act=1,this.isUsual=s):2==t&&(this.tab2_act=2,this.isUsual=s)},tab3_change:function(t){var s=this.status;this.status=s==t?"":t},feedback:function(t,s,e){console.log("反馈"+t),this.drawer2=!0,this.drawer2_task=s+"-"+e,this.taskFeedbackId=t},sponsor_achieve:function(t,s,e){console.log("我发起完成"+t),4==e&&(this.drawer3=!0,this.drawer3_task=s)},join_redact:function(t,s){var e=this;console.log("我参与忽略"+s),this.$alert("是否忽略此任务","提示",{confirmButtonText:"确定",callback:function(t){var a={taskId:s,isIgnore:1,taskfileList:{}};e.taskSave(a)}})},join_achieve:function(t,s,e){console.log("我参与完成"+t),4==e&&(this.drawer3=!0,this.drawer3_task=s)},filterName:function(t,s){return s.name===t},filterDepartment:function(t,s){return s.department===t},task_detail:function(t){this.drawer1=!0,this.statusListValue=t.status.toString(),this.getTaskShow(t.taskId)},changeDoUserName:function(t,s){this.changeDoUserNameShow=t,this.getNextuserList(s)},getNextuserList:function(t){var s="?userId="+t;this.$axios.post("/pmbs/api/user/nextuser"+s).then(this.getNextuserListSuss)},getNextuserListSuss:function(t){if(200==t.status){var s=t.data.data,e=[];if(null!=s)for(var a=0;a<s.length;a++){var i=s[a],l={value:i.userId,label:i.realName};e.push(l)}this.nextuserList=e}},changeDoUserNameAffirm:function(t){var s=this.nextuserValue;t.doUserId=s,""==s?this.changeDoUserNameShow="true":this.$axios.post("/pmbs/api/task/save",t).then(this.changeDoUserNameAffirmSuss)},changeDoUserNameAffirmSuss:function(t){200==t.status&&(this.messageWin("执行人修改成功"),this.getTasklist(),this.changeDoUserNameShow="true")},findTaskList:function(){var t={type:0,clientId:this.clientId,serviceId:this.serviceId,isUsual:this.isUsual,task:{initUserId:128,status:this.status},pageNum:1},s={type:1,clientId:this.clientId,serviceId:this.serviceId,isUsual:this.isUsual,task:{initUserId:128,status:this.status},pageNum:1};this.getTasklistAjax(t),this.getTasklistAjax_(s)},unique:function(t){return n()(new i.a(t))},getTasklist:function(){this.getTasklistAjax({type:0,task:{initUserId:128},pageNum:1}),this.getTasklistAjax_({type:1,task:{initUserId:128},pageNum:1})},getTasklistAjax:function(t){this.loading=!0,this.$axios.post("/pmbs/api/task/listAjax",t).then(this.getTasklistAjaxSuss)},getTasklistAjaxSuss:function(t){if(this.loading=!1,200==t.status){var s=t.data.items;this.tasklist=s,this.initiateTaskListTota=t.data.totalRows}},getTasklistAjax_:function(t){this.loading=!0,this.$axios.post("/pmbs/api/task/listAjax",t).then(this.getTasklistAjax_Suss)},getTasklistAjax_Suss:function(t){if(this.loading=!1,200==t.status){var s=t.data.items;this.tasklist_=s,this.participateTaskListTota=t.data.totalRows}},getTaskShow:function(t){var s="?id="+t;this.$axios.post("/pmbs/api/task/show"+s).then(this.getTaskShowSuss)},getTaskShowSuss:function(t){if(200==t.status){var s=t.data;this.taskData=s,this.suggest_list=s.feedbackList}},handleRemoveResult:function(t){for(var s=t.response.data,e=this.listProFileResult,a=0;a<e.length;a++){e[a].localPath==s.path&&(e.splice(a,1),console.log("删除"))}this.listProFileResult=e,console.log(this.listProFileResult)},handleSuccessResult:function(t,s,e){if(0==t.errcode){var a=t.data,i=this.listProFileResult,l={proId:this.taskData.proId,taskId:this.taskData.taskId,fileId:"",updateUserId:128,fileName:a.fileName,isPro:1,localPath:a.path,suffix:a.fileType};i.push(l),this.listProFileResult=i,console.log(this.listProFileResult)}},changeTaskDeil:function(){var t=this.taskData,s=this.listProFileResult,e=[];if(0==s.length)for(var a=0;a<t.taskfileList.length;a++){var i=t.taskfileList[a],l={fileId:i.fileId,fileName:i.fileName,suffix:i.suffix,localPath:i.localPath,proId:i.proId,taskId:i.taskId,updateUserId:128};e.push(l)}else e=s;var n={proId:t.proId,taskId:t.taskId,status:this.statusListValue,overDesc:this.result,taskfileList:e};0!=t.taskfileList.length&&0!=s.length&&(n.oldFileId=fileId),this.taskSave(n)},taskSave:function(t){this.$axios.post("/pmbs/api/task/save",t).then(this.taskSaveSuss)},taskSaveSuss:function(t){200==t.status&&(this.messageWin(t.data.msg),this.drawer1=!1,this.drawer5=!1,this.result="",this.listProFile=[],this.listProFileResult=[],this.getTasklist())},taskDelete:function(t){var s="?id="+t;this.$axios.post("/pmbs/api/task/delete"+s).then(this.taskDeleteSuss)},taskDeleteSuss:function(t){if(200==t.status)t.data},taskFeedback:function(){var t=new Date,s={feedback:this.feedbackContent,initUserId:128,taskId:this.taskFeedbackId,updateTime:t};this.$axios.post("/pmbs/api/project/taskfeedback",s).then(this.taskFeedbackSuss)},taskFeedbackSuss:function(t){200==t.status&&(this.messageWin("反馈成功"),this.drawer2=!1,this.feedbackContent="",this.taskFeedbackId="",this.getTasklist())},cancel:function(){this.drawer1=!1},initiateTaskList:function(t){var s={type:0,clientId:this.clientId,serviceId:this.serviceId,isUsual:this.isUsual,task:{initUserId:128,status:this.status},pageNum:t};this.getTasklistAjax(s)},participateTaskList:function(t){var s={type:1,clientId:this.clientId,serviceId:this.serviceId,isUsual:this.isUsual,task:{initUserId:128,status:this.status},pageNum:t};this.getTasklistAjax_(s)},empty:function(){this.drawer3=!1,this.drawer2=!1,this.feedbackContent="",this.result=""},messageWin:function(t){this.$message({message:t,type:"success"})},messageWarning:function(t){this.$message({message:t,type:"warning"})},messageError:function(t){this.$message.error(t)},MessageBox:function(){var t=this;this.$alert("这是一段内容","标题名称",{confirmButtonText:"确定",callback:function(s){t.join_redact()}})},test:function(){console.log("打印测试")}},mounted:function(){this.widthheight(),this.getAllClientAndBusiness(),this.getTasklist()}},u={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"task",style:t.project_style},[e("el-row",[e("el-col",{staticClass:"top",attrs:{span:24}},[e("el-col",{attrs:{span:5}},[e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("客户")]),t._v(" "),e("el-col",{attrs:{span:20}},[e("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small"},model:{value:t.clientId,callback:function(s){t.clientId=s},expression:"clientId"}},t._l(t.clientIdList,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),e("el-col",{staticClass:"tab tab1",attrs:{span:6}},[e("el-button-group",[e("el-button",{class:["1"==t.tab1_act?"act":""],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(s){return t.tab1_change(1,22)}}},[t._v("    官网    ")]),t._v(" "),e("el-button",{class:["2"==t.tab1_act?"act":""],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(s){return t.tab1_change(2,18)}}},[t._v("    口碑    ")]),t._v(" "),e("el-button",{class:["3"==t.tab1_act?"act":""],staticStyle:{"border-left":"0"},attrs:{type:"primary",plain:"",size:"small"},on:{click:function(s){return t.tab1_change(3,17)}}},[t._v("数字营销")])],1)],1),t._v(" "),e("el-col",{staticClass:"tab tab2",attrs:{span:4}},[e("el-button-group",[e("el-button",{class:["1"==t.tab2_act?"act":""],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(s){return t.tab2_change(1,1)}}},[t._v("    专项    ")]),t._v(" "),e("el-button",{class:["2"==t.tab2_act?"act":""],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(s){return t.tab2_change(2,0)}}},[t._v("    日常    ")])],1)],1),t._v(" "),e("el-col",{staticClass:"tab tab3",attrs:{span:8}},[e("el-button-group",[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"新任务",placement:"bottom"}},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){return t.tab3_change(1)}}},[t._v("  1  ")])],1),t._v(" "),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"延期",placement:"bottom"}},[e("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(s){return t.tab3_change(4)}}},[t._v("    2    ")])],1),t._v(" "),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"审核中",placement:"bottom"}},[e("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(s){return t.tab3_change(2)}}},[t._v("  3  ")])],1),t._v(" "),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"执行中",placement:"bottom"}},[e("el-button",{attrs:{type:"success",size:"small"},on:{click:function(s){return t.tab3_change(1)}}},[t._v("  4  ")])],1)],1)],1)],1),t._v(" "),e("el-col",{staticClass:"tabs",attrs:{span:24}},[e("div",{class:["1"==t.tabs_activity?"act":""],on:{click:function(s){return t.table_tab(1)}}},[t._v("我发起")]),t._v(" "),e("div",{class:["2"==t.tabs_activity?"act":""],on:{click:function(s){return t.table_tab(2)}}},[t._v("我参与")])]),t._v(" "),e("el-col",{directives:[{name:"show",rawName:"v-show",value:t.table_show,expression:"table_show"}],staticClass:"table table1",attrs:{span:24}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tasklist,"header-cell-style":{background:"rgb(236, 235, 235)",color:"#000"},"row-style":{height:"57px",text_aling:"left"}}},[e("el-table-column",{attrs:{prop:"proName",label:"所属项目","column-key":"name",filters:t.filtratePro,"filter-method":t.filterName}}),t._v(" "),e("el-table-column",{attrs:{prop:"deptName",label:"部门",filters:t.filtrateDep,"filter-method":t.filterDepartment}}),t._v(" "),e("el-table-column",{attrs:{prop:"taskName",label:"任务"},scopedSlots:t._u([{key:"default",fn:function(s){return e("el-link",{on:{click:function(e){return t.task_detail(s.row)}}},[t._v(t._s(s.row.taskName))])}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"执行状态"},scopedSlots:t._u([{key:"default",fn:function(s){return[1==s.row.isIgnore?e("span",{staticClass:"state_color3"},[t._v("忽略")]):1==s.row.status?e("span",{staticClass:"state_color1"},[t._v("执行中")]):2==s.row.status?e("span",{staticClass:"state_color2"},[t._v("审核中")]):3==s.row.status?e("span",{staticClass:"state_color3"},[t._v("完成")]):4==s.row.status?e("span",{staticClass:"state_color4"},[t._v("延期")]):5==s.row.status?e("span",{staticClass:"state_color3"},[t._v("延期完成")]):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"faTaskName",label:"父任务"}}),t._v(" "),e("el-table-column",{attrs:{prop:"expertTime",label:"预计时间"}},[e("template",{slot:"header"},[t._v("\n            预计时间\n            "),e("i",{staticClass:"el-icon-sort"})])],2),t._v(" "),e("el-table-column",{attrs:{prop:"tag",label:"操作",width:"180","filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(s){return[3!=s.row.status&&5!=s.row.status?e("el-button",{attrs:{size:"small",type:"info"},on:{click:function(e){return t.feedback(s.row.taskId,s.row.proName,s.row.taskName)}}},[t._v("反馈")]):t._e(),t._v(" "),2==s.row.status?e("el-button",{attrs:{slot:"reference",size:"small",type:"primary"},on:{click:function(e){return t.task_detail(s.row)}},slot:"reference"},[t._v("完成")]):t._e()]}}])})],1),t._v(" "),e("el-col",{staticClass:"page",attrs:{span:24}},[e("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.initiateTaskListTota},on:{"current-change":t.initiateTaskList}})],1)],1),t._v(" "),e("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.table_show,expression:"!table_show"}],staticClass:"table table2",attrs:{span:24}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tasklist_,"header-cell-style":{background:"rgb(236, 235, 235)",color:"#000"},"row-style":{height:"57px"},align:"left"}},[e("el-table-column",{attrs:{prop:"deptName",label:"部门"}}),t._v(" "),e("el-table-column",{attrs:{prop:"taskName",label:"任务"},scopedSlots:t._u([{key:"default",fn:function(s){return e("el-link",{on:{click:function(e){return t.task_detail(s.row)}}},[t._v(t._s(s.row.taskName))])}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(s){return[1==s.row.isIgnore?e("span",{staticClass:"state_color3"},[t._v("忽略")]):1==s.row.status?e("span",{staticClass:"state_color1"},[t._v("执行中")]):2==s.row.status?e("span",{staticClass:"state_color2"},[t._v("审核中")]):3==s.row.status?e("span",{staticClass:"state_color3"},[t._v("完成")]):4==s.row.status?e("span",{staticClass:"state_color4"},[t._v("延期")]):5==s.row.status?e("span",{staticClass:"state_color3"},[t._v("延期完成")]):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"doUserName",label:"执行人",width:"180"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("div",{directives:[{name:"show",rawName:"v-show",value:t.changeDoUserNameShow!=s.$index,expression:"changeDoUserNameShow != scope.$index"}]},[t._v("\n              "+t._s(s.row.doUserName)+"\n              "),e("el-link",{directives:[{name:"show",rawName:"v-show",value:1==s.row.status||4==s.row.status,expression:"scope.row.status == 1 || scope.row.status == 4"}],attrs:{type:"primary"},on:{click:function(e){return t.changeDoUserName(s.$index,s.row.doUserId)}}},[t._v("更换")])],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.changeDoUserNameShow==s.$index,expression:"changeDoUserNameShow == scope.$index"}]},[e("el-select",{staticStyle:{width:"99px"},attrs:{filterable:"",placeholder:"请选择",size:"mini",clearable:""},model:{value:t.nextuserValue,callback:function(s){t.nextuserValue=s},expression:"nextuserValue"}},t._l(t.nextuserList,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),e("el-button",{attrs:{slot:"append",type:"primary",size:"mini"},on:{click:function(e){return t.changeDoUserNameAffirm(s.row)}},slot:"append"},[t._v("确认")])],1)]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"expertTime",label:"预计时间"}},[e("template",{slot:"header"},[t._v("\n            预计时间\n            "),e("i",{staticClass:"el-icon-sort"})])],2),t._v(" "),e("el-table-column",{attrs:{prop:"overTime",label:"完成时间"}},[e("template",{slot:"header"},[t._v("\n            完成时间\n            "),e("i",{staticClass:"el-icon-sort"})])],2),t._v(" "),e("el-table-column",{attrs:{prop:"doUserName",label:"下达人"}}),t._v(" "),e("el-table-column",{attrs:{prop:"result",label:"成果"},scopedSlots:t._u([{key:"default",fn:function(s){return 3==s.row.state?e("div",{staticClass:"result"},[e("img",{attrs:{src:"static/images/document/ppt.png",width:"24",alt:"",srcset:""}}),t._v(" "),e("div",[t._v("策划方案")])]):t._e()}}],null,!0)}),t._v(" "),e("el-table-column",{attrs:{prop:"operation",label:"操作",width:"180","filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(s){return[1!=s.row.isIgnore&&2!=s.row.status&&3!=s.row.status&&5!=s.row.status?e("el-button",{attrs:{slot:"reference",size:"small",type:"info"},on:{click:function(e){return t.join_redact(s.row.proId,s.row.taskId)}},slot:"reference"},[t._v("忽略")]):t._e(),t._v(" "),2==s.row.status?e("el-button",{attrs:{slot:"reference",size:"small",type:"info"},on:{click:function(e){return t.feedback(s.row.taskId,s.row.proName,s.row.taskName)}},slot:"reference"},[t._v("反馈")]):t._e(),t._v(" "),e("el-popconfirm",{attrs:{title:"确认执行此操作吗？"},on:{onConfirm:function(e){return t.task_detail(s.row)}}},[1!=s.row.isIgnore&&1==s.row.status||4==s.row.status?e("el-button",{attrs:{slot:"reference",size:"small",type:"primary"},slot:"reference"},[t._v("完成")]):t._e()],1)]}}])})],1),t._v(" "),e("el-col",{staticClass:"page",attrs:{span:24}},[e("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.participateTaskListTota},on:{"current-change":t.participateTaskList}})],1)],1),t._v(" "),e("el-drawer",{attrs:{title:"任务",visible:t.drawer1,"with-header":!1},on:{"update:visible":function(s){t.drawer1=s}}},[e("el-scrollbar",{staticStyle:{height:"100%"}},[e("el-row",{staticClass:"task_details"},[e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("执行部门：")]),t._v(" "),e("el-col",{attrs:{span:18}},[t._v(t._s(t.taskData.deptName))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("任务类型：")]),t._v(" "),e("el-col",{attrs:{span:18}},[t._v(t._s(t.taskData.typeName))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("执行人：")]),t._v(" "),e("el-col",{attrs:{span:18}},[t._v(t._s(t.taskData.doUserName))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("状态：")]),t._v(" "),e("el-col",{attrs:{span:18}},[e("el-select",{class:{state_color1:1==t.statusListValue,state_color2:2==t.statusListValue},attrs:{size:"mini",placeholder:"请选择"},model:{value:t.statusListValue,callback:function(s){t.statusListValue=s},expression:"statusListValue"}},t._l(t.statusList,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("预计时间：")]),t._v(" "),e("el-col",{attrs:{span:18}},[t._v(t._s(t.taskData.expertTime))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("完成时间：")]),t._v(" "),e("el-col",{attrs:{span:18}},[t._v(t._s(t.taskData.overTime))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("需求：")]),t._v(" "),e("el-col",{attrs:{span:18}},[t._v(t._s(t.taskData.remark))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("附件：")]),t._v(" "),e("el-col",{attrs:{span:18}},t._l(t.taskData.proFileList,function(s){return e("div",{key:s.index,staticClass:"smname"},["doc"==s.suffix||"docx"==s.suffix?e("img",{attrs:{src:"static/images/document/word.png",width:"24",alt:"",srcset:""}}):"xls"==s.suffix||"xlsx"==s.suffix?e("img",{attrs:{src:"static/images/document/excle.png",width:"24",alt:"",srcset:""}}):"ppt"==s.suffix||"pptx"==s.suffix?e("img",{attrs:{src:"static/images/document/ppt.png",width:"24",alt:"",srcset:""}}):e("img",{attrs:{src:"static/images/document/other.png",width:"24",alt:"",srcset:""}}),t._v(" "),e("div",[t._v(t._s(s.fileName))])])}),0),t._v(" "),e("el-divider",{attrs:{"content-position":"right"}}),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("完成结果：")]),t._v(" "),e("el-col",{attrs:{span:18}},[e("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:t.result,callback:function(s){t.result=s},expression:"result"}},[t._v("完成结果：描述")])],1),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("附件：")]),t._v(" "),e("el-col",{attrs:{span:18}},[e("el-upload",{attrs:{action:"/pmbs/file/upload?upType=1&demandType=1","list-type":"picture-card","on-remove":t.handleRemoveResult,"on-success":t.handleSuccessResult}},[e("i",{staticClass:"el-icon-plus"})]),t._v(" "),e("el-dialog",{staticClass:"upload_list",attrs:{visible:t.dialogVisibleResult},on:{"update:visible":function(s){t.dialogVisibleResult=s}}},[e("img",{attrs:{width:"100%",src:t.dialogImageUrlResult,alt:""}})])],1),t._v(" "),e("el-divider",{attrs:{"content-position":"right"}}),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("反馈意见：")]),t._v(" "),e("el-col",{staticClass:"suggest",attrs:{span:18}},[e("el-scrollbar",{staticStyle:{height:"100%"}},t._l(t.suggest_list,function(s){return e("el-col",{key:s.index,staticClass:"suggest_list",attrs:{span:23}},[e("el-col",{staticClass:"time",attrs:{span:12}},[t._v(t._s(s.updateTime))]),t._v(" "),e("el-col",{staticClass:"pop",attrs:{span:12}},[t._v(t._s(s.deptName)+"-"+t._s(s.feedbackUserName))]),t._v(" "),e("el-col",{staticClass:"content",attrs:{span:24}},[t._v(t._s(s.feedback))])],1)}),1)],1)],1)],1),t._v(" "),e("el-row",{staticClass:"batton_pa"},[e("el-col",{staticClass:"batton",attrs:{span:12,offset:7}},[e("el-button",{attrs:{size:"small",type:"info"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.changeTaskDeil}},[t._v("完成")])],1)],1)],1),t._v(" "),e("el-drawer",{attrs:{title:"任务",visible:t.drawer2,"with-header":!1},on:{"update:visible":function(s){t.drawer2=s}}},[e("el-row",{staticClass:"feedback"},[e("el-col",{attrs:{span:24}},[e("el-col",{staticClass:"title",attrs:{span:24}},[t._v(t._s(t.drawer2_task))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("反馈")]),t._v(" "),e("el-col",{attrs:{span:24}},[e("el-input",{attrs:{type:"textarea",rows:9,placeholder:"请输入内容"},model:{value:t.feedbackContent,callback:function(s){t.feedbackContent=s},expression:"feedbackContent"}})],1)],1),t._v(" "),e("el-col",{staticClass:"batton",attrs:{span:12,offset:7}},[e("el-button",{attrs:{size:"small",type:"info"},on:{click:t.empty}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.taskFeedback}},[t._v("提交")])],1)],1)],1),t._v(" "),e("el-drawer",{attrs:{title:"任务",visible:t.drawer3,"with-header":!1},on:{"update:visible":function(s){t.drawer3=s}}},[e("el-row",{staticClass:"feedback"},[e("el-col",{attrs:{span:24}},[e("el-col",{staticClass:"title",attrs:{span:24}},[t._v(t._s(t.drawer3_task))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("延期原因")]),t._v(" "),e("el-col",{attrs:{span:24}},[e("el-input",{attrs:{type:"textarea",rows:9,placeholder:"请输入内容"},model:{value:t.result,callback:function(s){t.result=s},expression:"result"}})],1)],1),t._v(" "),e("el-col",{staticClass:"batton",attrs:{span:12,offset:7}},[e("el-button",{attrs:{size:"small",type:"info"},on:{click:t.empty}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var p=e("VU/8")(c,u,!1,function(t){e("mYtu")},"data-v-79f8ed0e",null);s.default=p.exports}});