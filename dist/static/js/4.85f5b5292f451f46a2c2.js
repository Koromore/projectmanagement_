webpackJsonp([4],{opwn:function(t,s){},ydW9:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("lHA8"),i=e.n(a),l=e("c/Tr"),n=e.n(l),r=e("bOdI"),o=e.n(r),c=e("xxyk"),u={name:"task",props:{allBusinessList:Array,userclientIdList:Array,clickCloseNum:Number,searchWordData:Object},components:{taskDetail:c.a},data:function(){var t;return t={userId:this.$store.state.user.userId,deptId:this.$store.state.user.deptId,loading:!1,taskId:0,task_type:[],task_type_value:"",pageNum0:1,pageNum1:1,businessList:this.$store.state.businessList,moreShow:!1,clientIdList:this.$store.state.clientIdList,clientId:"",serviceId:"",isUsual:"",status:"",drawer1:!1,drawer2:!1,drawer3:!1,drawer2_task:"",drawer3_task:"",changeDoUserNameShow:"true",nextuserList:[],nextuserValue:"",loginState:!0,project_style:"",filtratePro:[],filtrateDep:[],tasklist:[],initiateTaskListTota:0,tasklist_:[],participateTaskListTota:0,tableData2:[],result:"",resultBan:!1,cause:"",tabs_activity:1,tab1_act:"",tab2_act:"",suggest_list:[],statusList:[{value:1,label:"执行中"},{value:2,label:"完成"}],statusList_:[{value:2,label:"完成"},{value:4,label:"延期"}],statusListValue:"",taskData:{},proExpertTime:"",pickerOptions:{},taskFeedbackId:"",projFeedbackId:"",feedbackContent:"",feedbackFileList:[],dialogImageUrl:"",dialogVisible:!1,disabled:!1,uploadUrl:"",listProFile:[]},o()(t,"suggest_list",[]),o()(t,"fileList0",[]),o()(t,"updateBan",!1),o()(t,"dialogImageUrlResult",""),o()(t,"dialogVisibleResult",!1),o()(t,"disabledResult",!1),o()(t,"uploadUrl",""),o()(t,"listProFileResult",[]),o()(t,"fileList1",[]),o()(t,"oldFileId",""),o()(t,"changeNameShow",!1),o()(t,"userValue",""),t},watch:{clientId:function(t,s){var e=this.tabs_activity;this.findTaskList(e)},serviceId:function(t,s){var e=this.tabs_activity;this.findTaskList(e)},isUsual:function(t,s){var e=this.tabs_activity;this.findTaskList(e)},status:function(t,s){var e=this.tabs_activity;this.findTaskList(e)},tabs_activity:function(t,s){var e=this.tabs_activity;this.findTaskList(e)},clickCloseNum:function(t,s){this.moreShow=!1,this.changeDoUserNameShow="true"},searchWordData:function(t,s){console.log(t);var e=t.value,a=this.tabs_activity;this.getTasklist(a,e)}},methods:{pickerOptionsTime:function(){var t=this.proExpertTime;this.pickerOptions={disabledDate:function(s){return s.getTime()<Date.now()-864e5||s.getTime()>new Date(t).getTime()}}},widthheight:function(){window.innerWidth,window.innerHeight},table_tab:function(t){this.tabs_activity=t},tab1_change:function(t){var s=this.serviceId;this.serviceId=s==t?"":t},tab1_more:function(t){var s=this.moreShow;this.moreShow=!s},tab2_change:function(t,s){this.tab2_act==t?(this.tab2_act="",this.isUsual=""):1==t?(this.tab2_act=1,this.isUsual=s):2==t&&(this.tab2_act=2,this.isUsual=s)},tab3_change:function(t){var s=this.status;this.status=s==t?"":t},feedback:function(t){this.drawer2=!0,this.drawer2_task=t.proName+"-"+t.taskName,this.taskFeedbackId=t.taskId,this.projFeedbackId=t.proId,0!=this.feedbackFileList.length&&(this.$refs.upload.clearFiles(),this.feedbackFileList=[])},sponsor_achieve:function(t){var s=this;this.$confirm("是否确认此操作？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"确认",cancelButtonText:"取消"}).then(function(){var e=new Date(new Date(t.expertTime).getTime()+864e5),a=new Date,i={taskId:t.taskId,expertTime:t.expertTime,status:3};e<a&&(i.status=5),s.approveTask(i)}).catch(function(t){s.$message({type:"info",message:"已取消"})})},approveTask:function(t){var s=this;this.$axios.post("/pmbs/api/task/approveTask",t).then(function(t){200==t.status&&(s.messageWin(t.data.msg),s.getTasklist(s.tabs_activity))})},join_redact:function(t){var s=this;this.$confirm("是否忽略此任务","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"确认",cancelButtonText:"取消"}).then(function(){var e="taskId="+t;s.ignoreTask(e)}).catch(function(t){s.$message({type:"info",message:"放弃"})})},join_achieve:function(t,s,e){4==e&&(this.drawer3=!0,this.drawer3_task=s)},ignoreTask:function(t){var s=this;this.$axios.post("/pmbs/api/task/ignoreTask?"+t).then(function(t){200==t.status&&(s.messageWin(t.data.msg),s.getTasklist(s.tabs_activity))})},filterName:function(t,s){return s.name===t},filterDepartment:function(t,s){return s.department===t},task_detail:function(t,s){this.taskId=t.taskId},changeDoUserName:function(t,s){this.changeDoUserNameShow=t,this.getNextuserList(s)},getNextuserList:function(t){var s=t,e=[];if(null!=s)for(var a=0;a<s.length;a++){var i=s[a],l={value:i.userId,label:i.realName};e.push(l)}this.nextuserList=e},changeDoUserNameAffirm:function(t){var s=this.nextuserValue;""==s?this.changeDoUserNameShow="true":(t.doUserId=s,t.proFileList=[],this.$axios.post("/pmbs/api/task/save",t).then(this.changeDoUserNameAffirmSuss))},changeDoUserNameAffirmSuss:function(t){200==t.status&&(this.messageWin("执行人修改成功"),this.getTasklist(1),this.changeDoUserNameShow="true")},findTaskList:function(t){var s={type:0,clientId:this.clientId,serviceId:this.serviceId,isUsual:this.isUsual,task:{initUserId:this.userId,status:this.status},pageNum:1,pageSize:30},e={type:1,clientId:this.clientId,serviceId:this.serviceId,isUsual:this.isUsual,task:{initUserId:this.userId,status:this.status},pageNum:1,pageSize:30};0==t?this.getTasklistAjax(s):1==t&&this.getTasklistAjax_(e)},unique:function(t){return n()(new i.a(t))},getTasklist:function(t,s){var e={type:0,task:{initUserId:this.userId},pageNum:1,pageSize:30},a={type:1,task:{initUserId:this.userId},pageNum:1,pageSize:30};void 0!=s&&""!=s&&(e.task.taskName=s,a.task.taskName=s),0==t?this.getTasklistAjax(e):1==t&&this.getTasklistAjax_(a)},getTasklistAjax:function(t){this.loading=!0,this.$axios.post("/pmbs/api/task/listAjax",t).then(this.getTasklistAjaxSuss)},getTasklistAjaxSuss:function(t){if(this.loading=!1,200==t.status){var s=t.data.data.items;this.tasklist=s,this.initiateTaskListTota=t.data.data.totalRows}},getTasklistAjax_:function(t){this.loading=!0,this.$axios.post("/pmbs/api/task/listAjax",t).then(this.getTasklistAjax_Suss)},getTasklistAjax_Suss:function(t){if(this.loading=!1,200==t.status){var s=t.data.data.items;this.tasklist_=s,this.participateTaskListTota=t.data.data.totalRows}},taskSave:function(t){this.$axios.post("/pmbs/api/task/save",t).then(this.taskSaveSuss)},taskSaveSuss:function(t){200==t.status&&(this.messageWin(t.data.msg),this.result="",this.listProFile=[],this.listProFileResult=[],this.getTasklist(0))},taskDelete:function(t){var s="?id="+t;this.$axios.post("/pmbs/api/task/delete"+s).then(this.taskDeleteSuss)},taskDeleteSuss:function(t){if(200==t.status)t.data},handleRemoveFeedback:function(t){for(var s=this.feedbackFileList,e=t.response.data,a=0;a<s.length;a++){s[a].localPath==e.path&&s.splice(a,1)}this.feedbackFileList=s},handleSuccessFeedback:function(t){var s=t.data,e=this.feedbackFileList,a=new Date,i={createTime:a,deleteFlag:!1,feedbackId:"",fileId:"",fileName:s.fileName,localPath:s.path,suffix:s.fileType,taskId:"",updateTime:a};e.push(i)},exceed:function(){this.messageWarning("只能上传一个文件")},feedbackClose:function(){this.$refs.feedbackUpload.clearFiles(),this.feedbackFileList=[],this.feedbackContent=""},taskFeedback:function(){for(var t=new Date,s=this.taskFeedbackId,e=this.feedbackFileList,a=0;a<e.length;a++){e[a];e[a].taskId=s}var i={feedback:this.feedbackContent,feedbackFileList:e,initUserId:this.userId,proId:this.projFeedbackId,taskId:s,updateTime:t};console.log(i),""==i.feedback?this.messageError("信息不能为空"):this.$axios.post("/pmbs/api/project/taskfeedback",i).then(this.taskFeedbackSuss)},taskFeedbackSuss:function(t){200==t.status&&(this.messageWin("反馈成功"),this.drawer2=!1,this.feedbackContent="",this.taskFeedbackId="",this.getTasklist(0))},cancel:function(){this.drawer1=!1},initiateTaskList:function(t){this.pageNum0=t;var s={type:0,clientId:this.clientId,serviceId:this.serviceId,isUsual:this.isUsual,task:{initUserId:this.userId,status:this.status},pageNum:t,pageSize:30};this.getTasklistAjax(s)},participateTaskList:function(t){this.pageNum1=t;var s={type:1,clientId:this.clientId,serviceId:this.serviceId,isUsual:this.isUsual,task:{initUserId:this.userId,status:this.status},pageNum:t,pageSize:30};this.getTasklistAjax_(s)},changeName:function(){this.changeNameShow=!0},download:function(t){var s=t.localPath,e=document.createElement("a");e.download=t.fileName+"."+t.suffix,e.setAttribute("href","http://218.106.254.122:8084/pmbs/"+s),e.click()},empty:function(){this.drawer3=!1,this.drawer2=!1,this.feedbackContent="",this.result=""},closeDrawer:function(t){this.taskId=0;var s=this.tabs_activity;if(1==t)if(0==s){var e={type:0,clientId:this.clientId,serviceId:this.serviceId,isUsual:this.isUsual,task:{initUserId:this.userId,status:this.status},pageNum:this.pageNum0};this.getTasklistAjax(e)}else if(1==s){var a={type:1,clientId:this.clientId,serviceId:this.serviceId,isUsual:this.isUsual,task:{initUserId:this.userId,status:this.status},pageNum:this.pageNum1,pageSize:30};this.getTasklistAjax_(a)}},messageWin:function(t){this.$message({message:t,type:"success"})},messageWarning:function(t){this.$message({message:t,type:"warning"})},messageError:function(t){this.$message.error(t)}},mounted:function(){152==this.userId&&(this.tabs_activity=0),this.getTasklist(this.tabs_activity)}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"task",style:t.project_style},[e("el-row",[e("el-col",{staticClass:"top",attrs:{span:24}},[e("el-col",{attrs:{span:5}},[e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("客户")]),t._v(" "),e("el-col",{attrs:{span:20}},[e("el-select",{staticClass:"filtrateClient",attrs:{filterable:"",clearable:"",placeholder:"全部",size:"small"},model:{value:t.clientId,callback:function(s){t.clientId=s},expression:"clientId"}},t._l(t.userclientIdList,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),e("el-col",{staticClass:"tab tab1",attrs:{span:7}},[e("el-button-group",[t._l(t.allBusinessList[0],function(s,a){return e("el-button",{key:a,class:[t.serviceId==s.businessId?"act":""],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(e){return t.tab1_change(s.businessId)}}},[t._v(t._s(s.businessName))])}),t._v(" "),t.allBusinessList[1]?e("el-button",{class:[1==t.moreShow?"act more":"more"],staticStyle:{"border-left":"0"},attrs:{type:"primary",plain:"",size:"small",icon:"el-icon-more"},on:{click:function(s){return s.stopPropagation(),t.tab1_more()}}}):t._e()],2),t._v(" "),e("el-card",{directives:[{name:"show",rawName:"v-show",value:t.moreShow,expression:"moreShow"}],staticClass:"box-card"},t._l(t.allBusinessList,function(s,a){return e("el-button-group",{directives:[{name:"show",rawName:"v-show",value:0!=a,expression:"index != 0"}],key:a,staticClass:"moreBus"},t._l(s,function(s,a){return e("el-button",{key:a,class:[t.serviceId==s.businessId?"act":""],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(e){return e.stopPropagation(),t.tab1_change(s.businessId)}}},[t._v(t._s(s.businessName))])}),1)}),1)],1),t._v(" "),e("el-col",{staticClass:"tab tab2",attrs:{span:4}},[e("el-button-group",[e("el-button",{class:["1"==t.tab2_act?"act":""],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(s){return t.tab2_change(1,1)}}},[t._v("专项")]),t._v(" "),e("el-button",{class:["2"==t.tab2_act?"act":""],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(s){return t.tab2_change(2,0)}}},[t._v("日常")])],1)],1),t._v(" "),e("el-col",{staticClass:"tab tab3",attrs:{span:8}},[e("el-button-group",[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){return t.tab3_change(1)}}},[t._v("新任务")]),t._v(" "),e("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(s){return t.tab3_change(4)}}},[t._v("延期")]),t._v(" "),e("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(s){return t.tab3_change(2)}}},[t._v("审核中")]),t._v(" "),e("el-button",{attrs:{type:"success",size:"small"},on:{click:function(s){return t.tab3_change(1)}}},[t._v("执行中")])],1)],1)],1),t._v(" "),152!=t.userId?e("el-col",{staticClass:"tabs",attrs:{span:24}},[e("div",{class:[1==t.tabs_activity?"act":""],on:{click:function(s){return t.table_tab(1)}}},[t._v("我参与")]),t._v(" "),e("div",{class:[0==t.tabs_activity?"act":""],on:{click:function(s){return t.table_tab(0)}}},[t._v("我发起")])]):t._e(),t._v(" "),e("el-col",{directives:[{name:"show",rawName:"v-show",value:1==t.tabs_activity,expression:"tabs_activity==1"}],staticClass:"table table2",attrs:{span:24}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tasklist_,"header-cell-style":{background:"rgb(236, 235, 235)",color:"#000"},align:"left"}},[e("el-table-column",{attrs:{prop:"taskName",label:"任务名称","show-overflow-tooltip":"","min-width":"115"},scopedSlots:t._u([{key:"default",fn:function(s){return e("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.task_detail(s.row,1)}}},[t._v(t._s(s.row.taskName))])}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"proName",label:"所属项目","show-overflow-tooltip":"","min-width":"115"}}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(s){return[1==s.row.isIgnore?e("span",{staticClass:"state_color3"},[t._v("忽略")]):1==s.row.status?e("span",{staticClass:"state_color1"},[t._v("执行中")]):2==s.row.status?e("span",{staticClass:"state_color2"},[t._v("审核中")]):3==s.row.status?e("span",{staticClass:"state_color3"},[t._v("完成")]):4==s.row.status?e("span",{staticClass:"state_color4"},[t._v("延期")]):5==s.row.status?e("span",{staticClass:"state_color3"},[t._v("延期完成")]):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"doUserName",label:"执行人",width:"180"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("div",{directives:[{name:"show",rawName:"v-show",value:t.changeDoUserNameShow!=s.$index,expression:"changeDoUserNameShow != scope.$index"}],staticClass:"doUserName"},[e("span",[t._v(t._s(s.row.doUserName))]),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:1!=s.row.isIgnore&&s.row.listOaUser.length>1&&2!=s.row.status&&3!=s.row.status&&5!=s.row.status,expression:"scope.row.isIgnore != true && scope.row.listOaUser.length > 1 && scope.row.status != 2 && scope.row.status != 3 && scope.row.status != 5"}],attrs:{src:"static/images/task/change.png",width:"18",alt:"",srcset:""},on:{click:function(e){return e.stopPropagation(),t.changeDoUserName(s.$index,s.row.listOaUser)}}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.changeDoUserNameShow==s.$index,expression:"changeDoUserNameShow == scope.$index"}]},[e("el-select",{staticStyle:{width:"99px"},attrs:{filterable:"",placeholder:"请选择",size:"mini",clearable:""},model:{value:t.nextuserValue,callback:function(s){t.nextuserValue=s},expression:"nextuserValue"}},t._l(t.nextuserList,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),e("el-button",{attrs:{slot:"append",type:"primary",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.changeDoUserNameAffirm(s.row)}},slot:"append"},[t._v("确认")])],1)]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"expertTime",label:"预计时间",sortable:"",width:"110"},scopedSlots:t._u([{key:"default",fn:function(s){return[t._v(t._s(t.$date(s.row.expertTime)))]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"overTime",label:"完成时间",sortable:"",width:"110"},scopedSlots:t._u([{key:"default",fn:function(s){return[t._v(t._s(t.$date(s.row.overTime)))]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"initUserName",label:"下达人","min-width":"80"}}),t._v(" "),e("el-table-column",{attrs:{prop:"taskfileList","show-overflow-tooltip":"",label:"成果","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(s){return 0!=s.row.taskfileList.length?e("div",{staticClass:"taskfile",on:{click:function(e){return t.download(s.row.taskfileList[0])}}},["doc"==s.row.taskfileList[0].suffix||"docx"==s.row.taskfileList[0].suffix?e("img",{attrs:{src:"static/images/document/word.png",width:"16",alt:"",srcset:""}}):"xls"==s.row.taskfileList[0].suffix||"xlsx"==s.row.taskfileList[0].suffix?e("img",{attrs:{src:"static/images/document/excle.png",width:"16",alt:"",srcset:""}}):"ppt"==s.row.taskfileList[0].suffix||"pptx"==s.row.taskfileList[0].suffix?e("img",{attrs:{src:"static/images/document/ppt.png",width:"16",alt:"",srcset:""}}):e("img",{attrs:{src:"static/images/document/other.png",width:"16",alt:"",srcset:""}}),t._v(" "),e("el-link",{staticClass:"filenametext",attrs:{type:"primary"}},[t._v(t._s(s.row.taskfileList[0].fileName))])],1):t._e()}}],null,!0)}),t._v(" "),152!=t.userId?e("el-table-column",{attrs:{prop:"operation",label:"操作",width:"160","filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(s){return 1!=s.row.isIgnore&&1!=s.row.isIgnore?[1!=s.row.isIgnore&&2!=s.row.status&&3!=s.row.status&&5!=s.row.status?e("el-button",{attrs:{slot:"reference",size:"mini",type:"info"},on:{click:function(e){return t.join_redact(s.row.taskId)}},slot:"reference"},[t._v("忽略")]):t._e(),t._v(" "),1!=s.row.isIgnore&&2!=s.row.status&&3!=s.row.status&&5!=s.row.status?e("el-button",{attrs:{slot:"reference",size:"mini",type:"primary"},on:{click:function(e){return t.task_detail(s.row,1)}},slot:"reference"},[t._v("完成")]):t._e()]:void 0}}],null,!0)}):t._e()],1),t._v(" "),e("el-col",{staticClass:"page",attrs:{span:24}},[e("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","page-size":30,total:t.participateTaskListTota},on:{"current-change":t.participateTaskList}})],1)],1),t._v(" "),e("el-col",{directives:[{name:"show",rawName:"v-show",value:0==t.tabs_activity,expression:"tabs_activity==0"}],staticClass:"table table1",attrs:{span:24}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tasklist,"header-cell-style":{background:"rgb(236, 235, 235)",color:"#000"},"row-style":{text_aling:"left"}}},[e("el-table-column",{attrs:{prop:"taskName",label:"任务名称","show-overflow-tooltip":"","min-width":"210"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.task_detail(s.row,0)}}},[t._v(t._s(s.row.taskName))]),t._v(" "),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:s.row.faTaskName,placement:"bottom"}},[0!=s.row.faTask?e("span",{staticClass:"faTask"},[t._v("父")]):t._e()])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"proName",label:"所属项目","column-key":"name","show-overflow-tooltip":"","min-width":"210"}}),t._v(" "),e("el-table-column",{attrs:{prop:"deptName",label:"部门","min-width":"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(s){return[1==s.row.isIgnore?e("span",{staticClass:"state_color3"},[t._v("忽略")]):1==s.row.status?e("span",{staticClass:"state_color1"},[t._v("执行中")]):2==s.row.status?e("span",{staticClass:"state_color2"},[t._v("审核中")]):3==s.row.status?e("span",{staticClass:"state_color3"},[t._v("完成")]):4==s.row.status?e("span",{staticClass:"state_color4"},[t._v("延期")]):5==s.row.status?e("span",{staticClass:"state_color3"},[t._v("延期完成")]):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"expertTime",label:"预计时间",sortable:"","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(s){return[t._v(t._s(t.$date(s.row.expertTime)))]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"tag",label:"操作","min-width":"160","filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(s){return 1!=s.row.isIgnore&&1!=s.row.isIgnore?[1!=s.row.isIgnore&&1==s.row.status||2==s.row.status||4==s.row.status?e("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(e){return t.feedback(s.row)}}},[t._v("反馈")]):t._e(),t._v(" "),1!=s.row.isIgnore&&2==s.row.status?e("el-button",{attrs:{slot:"reference",size:"mini",type:"primary"},on:{click:function(e){return t.sponsor_achieve(s.row)}},slot:"reference"},[t._v("完成")]):t._e()]:void 0}}],null,!0)})],1),t._v(" "),e("el-col",{staticClass:"page",attrs:{span:24}},[e("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","page-size":30,total:t.initiateTaskListTota},on:{"current-change":t.initiateTaskList}})],1)],1),t._v(" "),e("taskDetail",{attrs:{taskId:t.taskId},on:{closeDrawer:t.closeDrawer}}),t._v(" "),e("el-drawer",{attrs:{title:"任务",visible:t.drawer2,"with-header":!1},on:{"update:visible":function(s){t.drawer2=s},close:t.feedbackClose}},[e("el-row",{staticClass:"feedback"},[e("el-col",{attrs:{span:24}},[e("el-col",{staticClass:"title",attrs:{span:24}},[t._v(t._s(t.drawer2_task))]),t._v(" "),e("el-col",{staticClass:"title snow",attrs:{span:6}},[t._v("反馈")]),t._v(" "),e("el-col",{attrs:{span:24}},[e("el-input",{attrs:{type:"textarea",rows:9,placeholder:"请输入内容",maxlength:"300","show-word-limit":""},model:{value:t.feedbackContent,callback:function(s){t.feedbackContent=s},expression:"feedbackContent"}})],1),t._v(" "),e("el-col",{staticClass:"title",staticStyle:{"margin-top":"24px"},attrs:{span:6}},[t._v("附件")]),t._v(" "),e("el-col",{staticClass:"Upload",attrs:{span:24}},[e("el-upload",{ref:"feedbackUpload",staticClass:"elementUpload",attrs:{action:"/pmbs/file/upload?upType=1&demandType=1","on-remove":t.handleRemoveFeedback,"on-success":t.handleSuccessFeedback,limit:1,"on-exceed":t.exceed}},[e("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("点击上传文档")]),t._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传一个文件")])],1)],1)],1),t._v(" "),e("el-col",{staticClass:"batton",attrs:{span:24}},[e("el-button",{attrs:{size:"small",type:"info"},on:{click:t.empty}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.taskFeedback}},[t._v("提交")])],1)],1)],1),t._v(" "),e("el-drawer",{attrs:{title:"任务",visible:t.drawer3,"with-header":!1},on:{"update:visible":function(s){t.drawer3=s}}},[e("el-row",{staticClass:"feedback"},[e("el-col",{attrs:{span:24}},[e("el-col",{staticClass:"title",attrs:{span:24}},[t._v(t._s(t.drawer3_task))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("延期原因")]),t._v(" "),e("el-col",{attrs:{span:24}},[e("el-input",{attrs:{type:"textarea",rows:9,placeholder:"请输入内容",maxlength:"300","show-word-limit":""},model:{value:t.cause,callback:function(s){t.cause=s},expression:"cause"}})],1)],1),t._v(" "),e("el-col",{staticClass:"batton",attrs:{span:12,offset:7}},[e("el-button",{attrs:{size:"small",type:"info"},on:{click:t.empty}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var p=e("VU/8")(u,d,!1,function(t){e("opwn")},"data-v-611f38e0",null);s.default=p.exports}});