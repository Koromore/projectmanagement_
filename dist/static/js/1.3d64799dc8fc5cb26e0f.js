webpackJsonp([1],{"2rGD":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"statistics",data:function(){return{statisticsData:{},businessNameData:[],businessListData:[],statusNameData:[],statusListData:[],clientNameData:[],clientStatusData:[]}},methods:{widthheight:function(){window.innerWidth,window.innerHeight},getStatisticsData:function(){this.$axios.post("/pmbs/api/statistic/listAjax",{}).then(this.getStatisticsDataSuss)},getStatisticsDataSuss:function(t){if(200==t.status){this.statisticsData=t.data.data;for(var e=t.data.data,a=e.listBusiness,s=[],i=[],n=0;n<a.length;n++){var o=a[n];s.push(o.businessName);o.listProject;var l={value:o.listProject,name:o.businessName,clientList:[]};i.push(l)}this.businessNameData=s,this.businessListData=i,console.log(this.businessNameData),console.log(this.businessListData);for(var r=e.listProjectStatus,c=[],u=[],h=0;h<r.length;h++){var d=r[h],g={};g.value=d.ratio,g.name=d.status,c.push(d.status),u.push(g)}this.statusNameData=c,this.statusListData=u;for(var m=e.listClient,p=[],b=0;b<m.length;b++){var v=m[b];p.push(v.clientName)}this.clientNameData=p,this.business_gantt(s,i),this.project_state_gantt(),this.client_state_gantt()}},business_gantt:function(t,e){this.$echarts.init(document.getElementById("business")).setOption({title:{text:"业务占比",padding:16},color:["#85AFE4","#778CD5","#737ACE","#6F69C6","#B8B3F3","#DDDBF9","#90CFF2","#8BBFE8"],tooltip:{trigger:"item",formatter:function(t,e,a){for(var s="",i=0;i<t.data.clientList.length;i++){s+=t.data.clientList[i]+"<br/>"}return"\n            "+t.name+"\n            ("+t.percent+"%)<br/>\n            "+s+"\n            "}},legend:{type:"scroll",icon:"circle",orient:"horizontal",bottom:10,data:["口碑","网站","数字营销","APP"]},series:[{name:"业务类型",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:335,name:"口碑",clientList:["吉利","沃尔沃","长城"]},{value:310,name:"网站",clientList:["吉利","沃尔沃","长城"]},{value:234,name:"数字营销",clientList:["吉利","沃尔沃","长城"]},{value:135,name:"APP",clientList:["吉利","沃尔沃","长城"]}]}]})},project_state_gantt:function(){this.$echarts.init(document.getElementById("project_state")).setOption({title:{text:"项目状态",padding:16},color:["#23D7BB","#f5b96a","#FF0000","#C9C9C9"],tooltip:{trigger:"item",formatter:"{b}({d}%)"},legend:{icon:"circle",orient:"horizontal",bottom:10,align:"auto",data:["执行中","审核中","延期","已完成"]},series:[{name:"项目状态",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:335,name:"执行中"},{value:310,name:"审核中"},{value:234,name:"延期"},{value:234,name:"已完成"}]}]})},client_state_gantt:function(){var t=this.$echarts.init(document.getElementById("client_state"));t.setOption({title:{text:"客户状态",subtextStyle:{align:"center",rich:{a:{}}},padding:16},color:["#FF0000","#F5B96A","#23D7BB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["延期","审核中","执行中"],top:16},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["客户1","客户2","客户3","客户4","客户5","客户6","客户7","客户8","客户9","客户10"],triggerEvent:!0}],yAxis:[{type:"value"}],series:[{name:"延期",type:"bar",stack:"广告",data:[120,132,101,134,90,230,210,210,210,210],nodeClick:"link"},{name:"审核中",type:"bar",stack:"广告",data:[220,182,191,234,290,330,310,210,210,210]},{name:"执行中",type:"bar",stack:"广告",data:[150,232,201,154,190,330,410,210,210,210]}]}),t.on("click",function(t){console.log(t)})}},mounted:function(){this.widthheight(),this.getStatisticsData()}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"statistics"},[e("el-row",[e("el-col",{staticClass:"gantt_box",attrs:{span:10}},[e("div",{style:{width:"100%",height:"300px"},attrs:{id:"business"}})]),this._v(" "),e("el-col",{staticClass:"gantt_box",attrs:{span:10,offset:1}},[e("div",{style:{width:"100%",height:"300px"},attrs:{id:"project_state"}})]),this._v(" "),e("el-col",{staticClass:"gantt_box",attrs:{span:21}},[e("div",{style:{width:"100%",height:"450px"},attrs:{id:"client_state"}})])],1)],1)},staticRenderFns:[]};var n=a("VU/8")(s,i,!1,function(t){a("B24x")},"data-v-947288f6",null);e.default=n.exports},B24x:function(t,e){}});