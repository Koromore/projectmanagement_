webpackJsonp([0],{"0E0D":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s,i=e("woOf"),l=e.n(i),n=e("bOdI"),o=e.n(n),r={name:"document",data:function(){var t;return t={userId:this.$store.state.user.userId,deptId:this.$store.state.user.deptId,openHistory:!1,editFileName:"",clientId:"",serviceId:"",isUsual:"",name:"",loading:!1,tab1_act:"",tab2_act:"",clientIdList:[],client:"广汽本田",fileHistoryList:[],fileHistoryLoading:!1,tableData:[],editable:[],pageNum:1,totalnum:0,fileList:[],listProFile:[],uploadUrl:"",dialogFileVisible:!1,editData:"",openTaskVisible:!1,taskData:{},suggest_list:[],statusList:[{value:1,label:"执行中"},{value:2,label:"完成"}],statusListValue:"",drawer1:!1,listProFileResult:[],result:"",drawerLoading:!1,proExpertTime:"",pickerOptions:{},task_type:[],task_type_value:""},o()(t,"uploadUrl",""),o()(t,"dialogImageUrl",""),o()(t,"dialogVisible",!1),o()(t,"disabled",!1),o()(t,"listProFile_",[]),o()(t,"suggest_list",[]),o()(t,"fileList0",[]),o()(t,"updateBan",!1),o()(t,"dialogImageUrlResult",""),o()(t,"dialogVisibleResult",!1),o()(t,"disabledResult",!1),o()(t,"listProFileResult",[]),o()(t,"fileList1",[]),o()(t,"oldFileId",""),o()(t,"changeDoUserNameShow","true"),o()(t,"nextuserList",[]),o()(t,"nextuserValue",""),o()(t,"changeNameShow",!1),o()(t,"userValue",""),t},methods:(s={pickerOptionsTime:function(){this.proExpertTime;this.pickerOptions={disabledDate:function(t){return t.getTime()<Date.now()-864e5}}},fileClose:function(){this.listProFile=[]},getAllClientAndBusiness:function(){this.$axios.post("/pmbs/client/getAllClientAndBusiness").then(this.getAllClientAndBusinessSuss)},getAllClientAndBusinessSuss:function(t){if(200==t.status){for(var a=t.data.data,e=[],s=0;s<a.length;s++){var i=a[s],l={value:i.clientId,label:i.clientName};e.push(l)}this.clientIdList=e}},handleRemoveResult:function(t){for(var a=t.response.data,e=this.listProFileResult,s=0;s<e.length;s++){e[s].localPath==a.path&&(e.splice(s,1),console.log("删除"))}this.listProFileResult=e},handleSuccessResult:function(t,a,e){if(0==t.errcode){var s=t.data,i=this.listProFileResult,l={proId:this.taskData.proId,taskId:this.taskData.taskId,fileId:"",updateUserId:this.userId,fileName:s.fileName,isPro:1,localPath:s.path,suffix:s.fileType};i.push(l),this.listProFileResult=i}},changeTaskDeil:function(){this.drawer1=!1,this.drawer5=!1;var t=this.taskData,a=this.listProFile,e=this.listProFileResult,s=this.statusListValue;t.proFileList=a,t.taskfileList=e,t.status=s,this.taskSave(t)},taskSave:function(t){this.$axios.post("/pmbs/api/task/save",t).then(this.taskSaveSuss)},taskSaveSuss:function(t){200==t.status&&(this.$message({message:t.data.msg,type:"success"}),this.drawer1=!1,this.drawer5=!1,this.result="",this.listProFile=[],this.listProFileResult=[],this.getTaskfilePageList())},empty:function(){this.drawer1=!1},handleSizeChange:function(){},handleCurrentChange:function(t){this.pageNum=t,this.getTaskfilePageList()},changeName:function(){this.changeNameShow=!0},enterDetail:function(t){this.drawer1=!0;var a=this.userId;this.drawer1=!0,this.taskId=t.taskId;var e="?userId="+a+"&id="+t.taskId;this.getTaskDetail(e),this.getDepTypeList()},getTaskDetail:function(t){this.drawerLoading=!0,this.$axios.post("/pmbs/api/task/show"+t).then(this.getTaskDetailSuss)},getTaskDetailSuss:function(t){if(this.drawerLoading=!1,console.log(t),200==t.status){var a=t.data.data;this.taskData=a,this.listProFile_=a.proFileList,this.listProFileResult=a.taskfileList,this.statusListValue=a.status;for(var e=[],s=0;s<a.proFileList.length;s++){var i=a.proFileList[s],l={fileId:i.fileId,name:i.fileName};e.push(l)}this.fileList0=e;for(var n=[],o=0;o<a.taskfileList.length;o++){var r=a.taskfileList[o],c={fileId:r.fileId,name:r.fileName};n.push(c)}this.fileList1=n}},getDepTypeList:function(){this.$axios.post("/pmbs/api/depType/listAjax",{}).then(this.getDepTypeListSuss)},getDepTypeListSuss:function(t){if(200==t.status){for(var a=t.data.items,e=[],s={},i=0;i<a.length;i++){var l=a[i];s={value:l.typeId,label:l.typeName},e.push(s)}this.task_type=e}},upload:function(){this.uploadUrl="\n      /pmbs/file/upload?upType=1&demandType=0\n      "},handleSuccess:function(t,a,e){if(0==t.errcode){var s=t.data,i=this.listProFile_,l={proId:this.taskData.proId||"",taskId:this.taskData.taskId||"",fileId:"",fileName:s.fileName,isPro:1,deleteFlag:!1,ptId:this.taskData.taskId||"",localPath:s.path,suffix:s.fileType};i.push(l),this.listProFile_=i,console.log(this.listProFile_)}},handleRemove:function(t){for(var a=t,e=this.listProFile_,s=0;s<e.length;s++){e[s].fileId==a.fileId&&(e[s].deleteFlag=!0)}this.listProFile_=e}},o()(s,"handleSuccessResult",function(t,a,e){if(0==t.errcode){var s=t.data,i=this.listProFileResult,l={proId:this.proId,taskId:this.taskId,fileId:"",updateUserId:this.userId,fileName:s.fileName,localPath:s.path,suffix:s.fileType,oldFileId:this.oldFileId};i.push(l),this.listProFileResult=i}}),o()(s,"handleRemoveResult",function(t){var a=this.listProFileResult;a.fileId?this.oldFileId=a.fileId:this.listProFileResult=[]}),o()(s,"fileRemove",function(){this.dialogFileVisible=!1}),o()(s,"fileUpload",function(){var t=this,a={proId:this.editData.proId,taskId:this.editData.taskId,updateUserId:this.editData.updateUserId,clientName:this.editData.clientName,proName:this.editData.proName,realName:this.editData.realName,taskName:this.editData.taskName,oldFileId:this.editData.fileId.toString()};this.$axios.post("/pmbs/api/taskfile/importupdate",l()(a,this.listProFile[0])).then(function(a){console.log(a),t.dialogFileVisible=!1})}),o()(s,"handleExceed",function(t,a){this.$message({message:"只能重新上传一个文件！",type:"warning"})}),o()(s,"handleRemove",function(t){for(var a=t.response.data,e=this.listProFile,s=0;s<e.length;s++){e[s].localPath==a.path&&e.splice(s,1)}this.listProFile=e}),o()(s,"handleSuccess",function(t,a,e){if(0==t.errcode){var s=t.data,i=this.listProFile,l={fileName:s.fileName,localPath:s.path,suffix:s.fileType};i.push(l),this.listProFile=i}}),o()(s,"tab1_change",function(t,a){this.tab1_act==t?(this.tab1_act="",this.serviceId=""):(this.tab1_act=t,this.serviceId=a)}),o()(s,"tab2_change",function(t,a){this.tab2_act==t?(this.tab2_act="",this.isUsual=""):(this.tab2_act=t,this.isUsual=a)}),o()(s,"searchHandle",function(){this.getTaskfilePageList()}),o()(s,"tableRowClassName",function(t){var a=t.row,e=t.rowIndex;a.index=e}),o()(s,"rowClick",function(t,a,e){this.editable=new Array(this.tableData.length)}),o()(s,"cellSave",function(t,a){var e=this;this.$axios.post("/pmbs/api/taskfile/updataTaskFileByFileId",{fileId:a.fileId,fileName:this.editFileName}).then(function(t){a.fileName=e.editFileName,e.editable=new Array(e.tableData.length)})}),o()(s,"changeNum",function(t,a){this.editable=new Array(this.tableData.length),this.editable[t]=!0,this.saveItem=this.tableData[t],this.$set(this.editable,t,!0),this.$nextTick(function(){document.getElementsByClassName("editRemarkInput")[0].children[0].focus()}),this.editFileName=a.fileName}),o()(s,"upload2",function(t,a){this.fileList=[],this.listProFile=[],this.editData=a,this.dialogFileVisible=!0}),o()(s,"download",function(t){var a=t.localPath,e=document.createElement("a");e.download="",e.setAttribute("href","http://218.106.254.122:8084/pmbs/"+a),e.click()}),o()(s,"lookHistory",function(t,a){var e=this;this.openHistory=!0;var s=a.fileId;this.fileHistoryLoading||(this.fileHistoryLoading=!0,this.$axios.post("/pmbs/api/taskfile/getTaskfileByEdition?fileId="+s,{}).then(function(t){e.fileHistoryLoading=!1,t.data&&0!=t.data.length?e.fileHistoryList=t.data:console.log("暂无数据")}).catch(function(){e.fileHistoryLoading=!1}))}),o()(s,"getTaskfilePageList",function(t){if(!this.loading){this.loading=!0;var a={userid:this.userId,pageNum:this.pageNum,pageSize:10,clientId:this.clientId,serviceId:this.serviceId,isUsual:this.isUsual,name:this.name};this.$axios.post("/pmbs/api/taskfile/getTaskfilePageList",a).then(this.getTaskfilePageListSuss)}}),o()(s,"getTaskfilePageListSuss",function(t){200==t.status&&(this.loading=!1,this.totalnum=t.data.totalRows,this.tableData=t.data.items)}),s),watch:{clientId:function(t,a){this.getTaskfilePageList()},serviceId:function(t,a){this.getTaskfilePageList()},isUsual:function(t,a){this.getTaskfilePageList()}},mounted:function(){this.getAllClientAndBusiness(),this.getTaskfilePageList();this.uploadUrl="/pmbs/file/upload?upType=0&demandType=0",this.pickerOptionsTime()}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"document task"},[e("div",[e("el-row",[e("el-col",{staticClass:"top",attrs:{span:24}},[e("el-col",{attrs:{span:5}},[e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("客户")]),t._v(" "),e("el-col",{attrs:{span:20}},[e("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:t.clientId,callback:function(a){t.clientId=a},expression:"clientId"}},t._l(t.clientIdList,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),e("el-col",{staticClass:"tab tab1",attrs:{span:6}},[e("el-button-group",[e("el-button",{class:["1"==t.tab1_act?"act":""],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(a){return t.tab1_change(1,22)}}},[t._v("    官网    ")]),t._v(" "),e("el-button",{class:["2"==t.tab1_act?"act":""],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(a){return t.tab1_change(2,18)}}},[t._v("    口碑    ")]),t._v(" "),e("el-button",{class:["3"==t.tab1_act?"act":""],staticStyle:{"border-left":"0"},attrs:{type:"primary",plain:"",size:"small"},on:{click:function(a){return t.tab1_change(3,17)}}},[t._v("数字营销")])],1)],1),t._v(" "),e("el-col",{staticClass:"tab tab2",attrs:{span:4}},[e("el-button-group",[e("el-button",{class:["1"==t.tab2_act?"act":""],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(a){return t.tab2_change(1,1)}}},[t._v("    专项    ")]),t._v(" "),e("el-button",{class:["2"==t.tab2_act?"act":""],attrs:{type:"primary",plain:"",size:"small"},on:{click:function(a){return t.tab2_change(2,0)}}},[t._v("    日常    ")])],1)],1),t._v(" "),e("el-col",{staticClass:"tab tab3",attrs:{span:8}},[e("el-input",{staticClass:"sousuo",attrs:{placeholder:"搜索",size:"small"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.searchHandle(a)}},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}},[e("el-button",{attrs:{slot:"append",size:"small",icon:"el-icon-search"},on:{click:t.searchHandle},slot:"append"})],1)],1)],1)],1)],1),t._v(" "),e("div",{staticClass:"table-main"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"default-sort":{prop:"date",order:"descending"},"row-class-name":t.tableRowClassName,"header-cell-style":{background:"rgb(236, 235, 235)",color:"#000"},"row-style":{height:"57px"}},on:{"row-click":t.rowClick}},[e("el-table-column",{attrs:{label:"文档"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{on:{click:function(e){return e.stopPropagation(),t.changeNum(a.$index,a.row)}}},[t.editable[a.$index]?e("div",[e("el-input",{staticClass:"editRemarkInput",attrs:{size:"mini"},model:{value:t.editFileName,callback:function(a){t.editFileName=a},expression:"editFileName"}},[e("el-button",{attrs:{slot:"append",type:"primary",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.cellSave(a.$index,a.row)}},slot:"append"},[t._v("确认")])],1)],1):e("div",["doc"==a.row.suffix||"docx"==a.row.suffix?e("img",{attrs:{src:"static/images/document/word.png",width:"16",alt:"",srcset:""}}):"xls"==a.row.suffix||"xlsx"==a.row.suffix?e("img",{attrs:{src:"static/images/document/excle.png",width:"16",alt:"",srcset:""}}):"ppt"==a.row.suffix||"pptx"==a.row.suffix?e("img",{attrs:{src:"static/images/document/ppt.png",width:"16",alt:"",srcset:""}}):e("img",{attrs:{src:"static/images/document/other.png",width:"16",alt:"",srcset:""}}),t._v(" "),e("span",[t._v(t._s(a.row.fileName))])])])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"clientName",label:"客户"}}),t._v(" "),e("el-table-column",{attrs:{prop:"proName",label:"项目"}}),t._v(" "),e("el-table-column",{attrs:{prop:"taskName",label:"任务"}}),t._v(" "),e("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",sortable:"",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"realName",label:"更新人",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",width:"240"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.doUserId==t.userId&&3!=a.row.status&&5!=a.row.status?e("el-button",{attrs:{size:"mini",icon:"el-icon-upload2"},on:{click:function(e){return t.upload2(a.$index,a.row)}}}):t._e(),t._v(" "),e("el-button",{attrs:{size:"mini",icon:"el-icon-download"},on:{click:function(e){return t.download(a.row)}}}),t._v(" "),e("el-button",{attrs:{size:"mini",icon:"el-icon-share"},on:{click:function(e){return t.enterDetail(a.row)}}}),t._v(" "),e("el-button",{attrs:{size:"mini",icon:"el-icon-time"},on:{click:function(e){return t.lookHistory(a.$index,a.row)}}})]}}])})],1),t._v(" "),e("div",{staticClass:"paging"},[e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":t.pageNum,layout:"total, prev, pager, next",total:t.totalnum,background:""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1),t._v(" "),e("el-drawer",{attrs:{title:"历史文档",visible:t.openHistory,"with-header":!1},on:{"update:visible":function(a){t.openHistory=a}}},[e("el-scrollbar",[e("div",{staticClass:"history-main"},[e("div",{staticClass:"title"},[t._v("历史")]),t._v(" "),e("el-timeline",{directives:[{name:"loading",rawName:"v-loading",value:t.fileHistoryLoading,expression:"fileHistoryLoading"}]},t._l(t.fileHistoryList,function(a){return e("el-timeline-item",{key:a.fileId,attrs:{timestamp:a.updateTime,placement:"top"}},[e("el-card",[e("h4",[t._v("更新人："+t._s(a.realName))]),t._v(" "),e("p",{staticClass:"fileName"},["doc"==a.suffix||"docx"==a.suffix?e("img",{attrs:{src:"static/images/document/word.png",width:"16",alt:"",srcset:""}}):"xls"==a.suffix||"xlsx"==a.suffix?e("img",{attrs:{src:"static/images/document/excle.png",width:"16",alt:"",srcset:""}}):"ppt"==a.suffix||"pptx"==a.suffix?e("img",{attrs:{src:"static/images/document/ppt.png",width:"16",alt:"",srcset:""}}):e("img",{attrs:{src:"static/images/document/other.png",width:"16",alt:"",srcset:""}}),t._v(" "),e("span",[t._v(t._s(a.fileName))])]),t._v(" "),e("p",[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.download(a)}}},[t._v("\n                  下载\n                  "),e("i",{staticClass:"el-icon-download el-icon--right"})])],1)])],1)}),1),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:0==t.fileHistoryList.length,expression:"fileHistoryList.length==0"}]},[t._v("暂无历史数据")])],1)])],1),t._v(" "),e("el-drawer",{attrs:{title:"任务",visible:t.drawer1,"with-header":!1},on:{"update:visible":function(a){t.drawer1=a}}},[e("el-scrollbar",{directives:[{name:"loading",rawName:"v-loading",value:t.drawerLoading,expression:"drawerLoading"}],staticStyle:{height:"100%"}},[e("el-row",{staticClass:"task_details"},[e("el-col",{staticClass:"title",attrs:{span:24}},[t._v(t._s(t.taskData.proName)+"-"+t._s(t.taskData.taskName))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("执行部门：")]),t._v(" "),e("el-col",{attrs:{span:18}},[t._v(t._s(t.taskData.deptName))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("任务类型：")]),t._v(" "),e("el-col",{attrs:{span:18}},[t.taskData.doUserId==t.userId&&1==t.taskData.status||4==t.taskData.status?[e("el-select",{attrs:{placeholder:"请选择任务类型",size:"mini"},model:{value:t.taskData.typeId,callback:function(a){t.$set(t.taskData,"typeId",a)},expression:"taskData.typeId"}},t._l(t.task_type,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)]:[t._v(t._s(t.taskData.typeName))]],2),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("执行人：")]),t._v(" "),e("el-col",{attrs:{span:18}},[t.changeNameShow?t._e():e("span",[t._v(t._s(t.taskData.doUserName))]),t._v(" "),t.changeNameShow?e("el-select",{staticStyle:{width:"99px"},attrs:{filterable:"",placeholder:"请选择",size:"mini",clearable:""},model:{value:t.taskData.doUserId,callback:function(a){t.$set(t.taskData,"doUserId",a)},expression:"taskData.doUserId"}},t._l(t.taskData.listOaUser,function(t){return e("el-option",{key:t.userId,attrs:{label:t.realName,value:t.userId}})}),1):t._e(),t._v(" "),t.taskData.deptId==t.deptId&&1!=t.taskData.isIgnore&&t.taskData.listOaUser.length>1&&2!=t.taskData.status&&3!=t.taskData.status&&5!=t.taskData.status?e("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.changeName()}}},[t._v("更换")]):150==t.deptId&&93==t.taskData.deptId&&1!=t.taskData.isIgnore&&t.taskData.listOaUser.length>1&&2!=t.taskData.status&&3!=t.taskData.status&&5!=t.taskData.status?e("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.changeName()}}},[t._v("更换")]):150==t.deptId&&64==t.taskData.deptId&&1!=t.taskData.isIgnore&&t.taskData.listOaUser.length>1&&2!=t.taskData.status&&3!=t.taskData.status&&5!=t.taskData.status?e("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.changeName()}}},[t._v("更换")]):t._e()],1),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("状态：")]),t._v(" "),e("el-col",{attrs:{span:18}},[1==t.taskData.status&&t.taskData.doUserId==t.userId?e("el-select",{class:{state_color1:1==t.taskData.status,state_color2:2==t.taskData.status},attrs:{size:"mini",placeholder:"请选择"},model:{value:t.statusListValue,callback:function(a){t.statusListValue=a},expression:"statusListValue"}},t._l(t.statusList,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1):1==t.taskData.status&&t.taskData.doUserId!=t.userId?e("span",{staticClass:"state_color1"},[t._v("执行中")]):2==t.taskData.status?e("span",{staticClass:"state_color2"},[t._v("审核中")]):3==t.taskData.status?e("span",{staticClass:"state_color3"},[t._v("已完成")]):4==t.taskData.status?e("span",{staticClass:"state_color4"},[t._v("延期")]):5==t.taskData.status?e("span",{staticClass:"state_color3"},[t._v("延期完成")]):t._e()],1),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("预计时间：")]),t._v(" "),e("el-col",{attrs:{span:18}},[t.taskData.doUserId==t.userId&&1==t.taskData.status||4==t.taskData.status?[e("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":t.pickerOptions,size:"mini"},model:{value:t.taskData.expertTime,callback:function(a){t.$set(t.taskData,"expertTime",a)},expression:"taskData.expertTime"}})]:[t._v(t._s(t.taskData.expertTime))]],2),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("完成时间：")]),t._v(" "),e("el-col",{attrs:{span:18}},[t._v(t._s(t.taskData.overTime))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("需求：")]),t._v(" "),e("el-col",{attrs:{span:18}},[t.taskData.doUserId==t.userId&&1==t.taskData.status||4==t.taskData.status?[e("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:9},placeholder:"请输入内容"},model:{value:t.taskData.remark,callback:function(a){t.$set(t.taskData,"remark",a)},expression:"taskData.remark"}})]:[t._v(t._s(t.taskData.remark))]],2),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("附件：")]),t._v(" "),e("el-col",{staticClass:"proFileList",attrs:{span:18}},[t.taskData.doUserId==t.userId&&1==t.taskData.status||4==t.taskData.status?[e("el-upload",{staticClass:"elementUpload",attrs:{action:t.uploadUrl,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"file-list":t.fileList0}},[e("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("点击上传附件")])],1)]:t._l(t.taskData.proFileList,function(a){return e("div",{key:a.index,staticClass:"smname",on:{click:function(e){return t.download(a)}}},["doc"==a.suffix||"docx"==a.suffix?e("img",{attrs:{src:"static/images/document/word.png",width:"24",alt:"",srcset:""}}):"xls"==a.suffix||"xlsx"==a.suffix?e("img",{attrs:{src:"static/images/document/excle.png",width:"24",alt:"",srcset:""}}):"ppt"==a.suffix||"pptx"==a.suffix?e("img",{attrs:{src:"static/images/document/ppt.png",width:"24",alt:"",srcset:""}}):e("img",{attrs:{src:"static/images/document/other.png",width:"24",alt:"",srcset:""}}),t._v(" "),e("div",[t._v(t._s(a.fileName))])])})],2),t._v(" "),e("el-divider",{attrs:{"content-position":"right"}}),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("完成结果：")]),t._v(" "),e("el-col",{attrs:{span:18}},[t.taskData.doUserId==t.userId&&3!=t.taskData.status&&5!=t.taskData.status?[e("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容",disabled:t.resultBan},model:{value:t.taskData.overDesc,callback:function(a){t.$set(t.taskData,"overDesc",a)},expression:"taskData.overDesc"}})]:[t._v(t._s(t.taskData.overDesc))]],2),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("附件：")]),t._v(" "),e("el-col",{staticClass:"proFileList",attrs:{span:18}},[t.taskData.doUserId==t.userId&&3!=t.taskData.status&&5!=t.taskData.status?[e("el-upload",{staticClass:"elementUpload",attrs:{action:"/pmbs/file/upload?upType=1&demandType=1","on-remove":t.handleRemoveResult,"on-success":t.handleSuccessResult,disabled:t.updateBan,fileList:t.fileList1,limit:1}},[e("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("点击上传文档")])],1)]:t._l(t.taskData.taskfileList,function(a){return e("div",{key:a.index,staticClass:"smname",on:{click:function(e){return t.download(a)}}},["doc"==a.suffix||"docx"==a.suffix?e("img",{attrs:{src:"static/images/document/word.png",width:"24",alt:"",srcset:""}}):"xls"==a.suffix||"xlsx"==a.suffix?e("img",{attrs:{src:"static/images/document/excle.png",width:"24",alt:"",srcset:""}}):"ppt"==a.suffix||"pptx"==a.suffix?e("img",{attrs:{src:"static/images/document/ppt.png",width:"24",alt:"",srcset:""}}):e("img",{attrs:{src:"static/images/document/other.png",width:"24",alt:"",srcset:""}}),t._v(" "),e("div",[t._v(t._s(a.fileName))])])})],2),t._v(" "),e("el-divider",{attrs:{"content-position":"right"}}),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:6}},[t._v("反馈意见：")]),t._v(" "),e("el-col",{staticClass:"suggest",attrs:{span:18}},[e("el-scrollbar",{staticStyle:{height:"100%"}},t._l(t.taskData.feedbackList,function(a){return e("el-col",{key:a.index,staticClass:"suggest_list",attrs:{span:23}},[e("el-col",{staticClass:"time",attrs:{span:12}},[t._v(t._s(a.updateTime))]),t._v(" "),e("el-col",{staticClass:"pop",attrs:{span:12}},[t._v(t._s(a.deptName)+"-"+t._s(a.feedbackUserName))]),t._v(" "),e("el-col",{staticClass:"content",attrs:{span:24}},[t._v(t._s(a.feedback))])],1)}),1)],1)],1)],1),t._v(" "),e("el-row",{staticClass:"batton_pa"},[e("el-col",{staticClass:"batton",attrs:{span:12,offset:7}},[e("el-button",{attrs:{size:"small",type:"info"},on:{click:t.empty}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.changeTaskDeil}},[t._v("完成")])],1)],1)],1),t._v(" "),e("el-dialog",{attrs:{close:t.fileClose,title:"修改附件",visible:t.dialogFileVisible},on:{"update:visible":function(a){t.dialogFileVisible=a}}},[e("div",[e("el-upload",{attrs:{action:t.uploadUrl,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"file-list":t.fileList,limit:1,"on-exceed":t.handleExceed}},[e("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("点击上传附件")])],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.fileRemove}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.fileUpload}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var d=e("VU/8")(r,c,!1,function(t){e("rEEQ")},"data-v-d4742e22",null);a.default=d.exports},rEEQ:function(t,a){}});